<mat-toolbar color="primary" class="mat-elevation-z6 mat-headline">
    <span>Cabici Race Manager</span>
</mat-toolbar>
<h2 class="mat-elevation-z2 subheader">Add Riders</h2>
<div class="filter-table container">
    <mat-form-field class="filter-field">
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter Riders">
    </mat-form-field>

    <mat-table #table class="filter-table" [dataSource]="filterTable">
        <ng-container matColumnDef="rider">
            <mat-header-cell *matHeaderCellDef>Rider</mat-header-cell>
            <mat-cell *matCellDef="let rider">{{ rider.fullName() }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="club">
            <mat-header-cell *matHeaderCellDef>Club</mat-header-cell>
            <mat-cell *matCellDef="let rider">{{ rider.getClub().name }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="number">
            <mat-header-cell *matHeaderCellDef>License No.</mat-header-cell>
            <mat-cell *matCellDef="let rider">{{ rider.licenseNo }}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="filterDisplayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: filterDisplayedColumns;" (click)="openDialog(row)"></mat-row>

    </mat-table>
    <mat-paginator #paginator
        [pageSize]="5"
        [pageSizeOptions]="[5, 10, 20]"
        [showFirstLastButtons]="true">
    </mat-paginator>
</div>
<h2 class="subheader mat-elevation-z2">Riders Entered</h2>
<div class="rider-table container">
    <mat-tab-group dynamicHeight>
        <mat-tab *ngFor="let gradeTable of gradeTables">
            <ng-template mat-tab-label>
                Grade {{ gradeTable.grade }}
            </ng-template>
            <mat-table #table [dataSource]="gradeTable.table">
                    <ng-container matColumnDef="number">
                        <mat-header-cell *matHeaderCellDef>Number</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{ entry.number }}</mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="rider">
                        <mat-header-cell *matHeaderCellDef>Rider</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{ entry.rider.fullName() }}</mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="club">
                        <mat-header-cell *matHeaderCellDef>Club</mat-header-cell>
                        <mat-cell *matCellDef="let entry">{{ entry.rider.getClub().name }}</mat-cell>
                    </ng-container>
        
                    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                </mat-table>
        </mat-tab>
    </mat-tab-group>
</div>
